<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Pipelines - Learn Code Stream</title><meta name=description content="VMware vRealize Automation"><meta name=generator content="Hugo 0.74.3"><link href=https://learncodestream.github.io/index.xml rel=alternate type=application/rss+xml><link rel=canonical href=https://learncodestream.github.io/Pipelines/><link rel=stylesheet href=https://learncodestream.github.io/css/theme.css><link rel=stylesheet href=/css/lightbox.min.css><link rel=stylesheet href=/css/custom.css><script src=https://use.fontawesome.com/releases/v5.0.6/js/all.js></script><link rel=stylesheet href=https://learncodestream.github.io/css/chroma.min.css><script src=https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js></script><script src=https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js></script><script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script src=https://learncodestream.github.io/js/bundle.js></script><script src=/js/lightbox.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-NN4VBNXV6M"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','G-NN4VBNXV6M');</script><style>:root{--custom-font-color: #0065ab;--custom-background-color: #FFFFFF}</style><meta property="og:title" content="Pipelines"><meta property="og:description" content="VMware vRealize Automation"><meta property="og:type" content="website"><meta property="og:url" content="https://learncodestream.github.io/Pipelines/"><meta property="og:image" content="https://learncodestream.github.io/images/vra-code-stream-logo.png"><meta property="og:site_name" content="Learn Code Stream"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://learncodestream.github.io/images/vra-code-stream-logo.png"><meta name=twitter:title content="Pipelines"><meta name=twitter:description content="VMware vRealize Automation"><meta itemprop=name content="Pipelines"><meta itemprop=description content="VMware vRealize Automation"></head><body><div class=container><header><div class=header-image><img src=/images/vra-code-stream-logo.png alt="Learn Code Stream"></div><div class=header><div class=header-h1><h1 class=header-h1>Learn Code Stream</h1></div><div class=header-description><p class=description>VMware vRealize Automation</p></div></div></header><div class=content-container><main><h1>Pipelines</h1><p>A Pipeline is the primary mechanism for sequencing all the tasks that need to be performed, and is composed of one or more Stage, with one or more tasks in each stage.</p><h2 id=general-pipeline-settings>General Pipeline Settings</h2><p>The pipeline settings allow you to set the pipeline name, concurrency, description, icon and tags.<blockquote class="gdoc-hint info">Being able to change the concurrency of the pipeline is often useful if you&rsquo;re using shared resources that either don&rsquo;t have the capcity to host multiple running executions, or there are resources that cannot be shared</blockquote><div class=clr-content-image-wrap><a href=/images/pipeline-general-settings.png data-lightbox=page-images data-title="Pipeline general settings"><img src=/images/pipeline-general-settings.png alt="Pipeline general settings"></a><figcaption class=clr-caption>Pipeline general settings</figcaption></div></p><h2 id=pipeline-configuration>Pipeline configuration</h2><p>When editing a Pipeline there are four tabs to configure:</p><div class=gdoc-tabs><input type=radio class="gdoc-tabs__control hidden" name=tabs-pipelineConfig id=tabs-pipelineConfig-0 checked>
<label for=tabs-pipelineConfig-0 class=gdoc-tabs__label>Workspace</label><div class="gdoc-markdown--nested gdoc-tabs__content"><p>The workspace tab configures the environment in which the pipeline runs</p><ul><li><strong>Host</strong> specifies a <a href=/Configure/Endpoints/docker>Docker endpoint</a> on which <a href=/Pipelines/Tasks/ci>CI tasks</a> and <a href=/Custom-Integrations>Custom Integrations</a> will execute</li><li><strong>Builder image URL</strong> configures the container image that will be used for CI tasks or Custom Integrations. You can specify using the just an official image (e.g. <code>python</code>), the image and a tag (e.g. <code>python:3.10.0a6-alpine</code>) or a full URL (e.g. <code>projects.registry.vmware.com/antrea/prom-prometheus:v2.19.3</code>)<blockquote class="gdoc-hint warning">The container image can be almost any image but it needs to have <code>wget</code> or <code>curl</code> in order to download and install the Code Stream CI Agent, which is installed when the container is spun up.</li></ul></blockquote><ul><li><strong>Image Registry</strong> selects the <a href=/Configure/Endpoints/dockerregistry>Docker Registry endpoint</a> to use to pull the <strong>Builder image</strong> - if the registry requires credentials to pull an image you can specify them as part of the endpoint and those will be used.</li><li><strong>Working directory</strong> is the directory within a container image that will be used when running commands (<code>workingDir</code>, by default) in a <a href=/Pipelines/Tasks/ci>CI task</a> - more often than not, you can leave this blank to default to <code>/build</code></li><li><strong>Cache</strong> is accessible to each Pipeline run and can be used to cache files and folders that are common between Pipeline runs - for example if you download dependencies before building a Go project, those dependencies could be cached to speed up future executions of the same pipeline.</li><li><strong>Environment Variables</strong> can be used to pass environment variables to a container (similar to the <code>-e VAR_NAME="value"</code> flag in the <code>docker run</code> command)</li><li><strong>CPU limit</strong> if a CI task requires significant resources, the container&rsquo;s allocated CPU can be increased - it&rsquo;s not often required</li><li><strong>Memory limit</strong> if a CI task requires significant resources, container&rsquo;s allocated Memory can be increased - it&rsquo;s not often required</li><li><strong>Git clone</strong> - if the pipeline is triggered by a <a href=/Triggers/Git>Git webhook
</a>, <a href=/Pipelines/Tasks/ci>CI tasks</a> will automatically clone the Git repository.<blockquote class="gdoc-hint warning">Note: You will need to configure the pipeline Inputs with the Git auto-inject parameters for this to work!</li></ul></blockquote><p><img src=images/pipeline-workspace-config.png alt="Pipeline Workspace Configuration"></p></div><input type=radio class="gdoc-tabs__control hidden" name=tabs-pipelineConfig id=tabs-pipelineConfig-1>
<label for=tabs-pipelineConfig-1 class=gdoc-tabs__label>Input</label><div class="gdoc-markdown--nested gdoc-tabs__content"><img src=images/pipeline-input-config.png alt="Pipeline Input Configuration"></div><input type=radio class="gdoc-tabs__control hidden" name=tabs-pipelineConfig id=tabs-pipelineConfig-2>
<label for=tabs-pipelineConfig-2 class=gdoc-tabs__label>Model</label><div class="gdoc-markdown--nested gdoc-tabs__content"><p>The Model tab is where you configure the Stages and Tasks of the pipeline - it&rsquo;s where you spend most of your time when creating and editing pipelines.</p><ul><li>A <a href=/Pipelines/Stages>Stage</a> is an encapsulation mechanism for tasks and are used for grouping the individual task execution statuses and results.</li><li>A <a href=/Pipelines/Tasks>Task</a> performs individual actions based on its type and configuration. Tasks can deploy <a href=Tasks/cloudtemplate>VMware Cloud Templates
</a>, and perform actions on configured endpoints, or more generic tasks such as prompting for user interations with <a href=/User-Operations>User Operation
</a>, polling a 3rd party data source with the <a href=/Pipelines/Tasks/poll/>Poll</a> task, or even perform a REST call.</li></ul><p><img src=images/pipeline-model-config.png alt="Pipeline Model Configuration"></p></div><input type=radio class="gdoc-tabs__control hidden" name=tabs-pipelineConfig id=tabs-pipelineConfig-3>
<label for=tabs-pipelineConfig-3 class=gdoc-tabs__label>Output</label><div class="gdoc-markdown--nested gdoc-tabs__content"><p>Outputs can be mapped to values produced by tasks in a pipeline and can be useful when you&rsquo;re nesting pipelines using the <a href=/Pipelines/Tasks/pipeline>Pipeline task</a> to return the results to the parent pipeline.</p><p><img src=images/pipeline-output-config.png alt="Pipeline Output Config"></p></div></div><h2 id=variables-in-pipelines>Variables in Pipelines</h2><p>Most configurable fields within a Pipeline can also use [Variables], references to Input parameters, the output of other tasks or general pipeline properties by using a reference.</p><p>These can be accessed using by typing <code>$</code>, which will bring up the auto-completion:</p><div class=clr-content-image-wrap><a href=/images/pipeline-references.gif data-lightbox=page-images data-title="Reference auto-completion"><img src=/images/pipeline-references.gif alt="Reference auto-completion"></a><figcaption class=clr-caption>Reference auto-completion</figcaption></div><p>Referring back to previous tasks is done using a heirarchy that matches the structure of the pipeline, for example: <code>${Build Stage.Build Task.output.exports.variableName}</code> would refer to the value of a variable called <code>variableName</code> that was exported from a task called <code>Build Task</code> in the stage <code>Build Stage</code>.</p><p>Tasks return their output as JSON, and it&rsquo;s often useful to look at a previously executed task to find the correct path to an output variable - if you look at the <a href>Execution</a> of a Pipeline and examine the task details, you can click &ldquo;View Output JSON&rdquo; and use the &ldquo;Path finder&rdquo; option to discover the correct path:
<img src=images/pipeline-find-path.gif alt="Find the correct output path"></p><h2 id=notifications>Notifications</h2><p>The notifications tab allows you to configure notifications for pipeline events (completion, waiting for <a href>user interaction
</a>, failure, cancellation, and starting) using either an <a href=/Configure/Endpoints/email>Email endpoint
</a>, <a href=/Configure/Endpoints/jira>Jira endpoint
</a>, or by creating a Webhook with a POST, PUT or PATCH payload.</p><div class=gdoc-tabs><input type=radio class="gdoc-tabs__control hidden" name="tabs-Notification Types" id="tabs-Notification Types-0" checked>
<label for="tabs-Notification Types-0" class=gdoc-tabs__label>Email</label><div class="gdoc-markdown--nested gdoc-tabs__content"><div class=clr-content-image-wrap><a href=2021-03-11-13-36-31.png data-lightbox=page-images data-title="Pipeline Email Notifications"><img src=2021-03-11-13-36-31.png alt="Pipeline Email Notifications"></a><figcaption class=clr-caption>Pipeline Email Notifications</figcaption></div></div><input type=radio class="gdoc-tabs__control hidden" name="tabs-Notification Types" id="tabs-Notification Types-1">
<label for="tabs-Notification Types-1" class=gdoc-tabs__label>Ticket</label><div class="gdoc-markdown--nested gdoc-tabs__content"><div class=clr-content-image-wrap><a href=2021-03-11-13-41-09.png data-lightbox=page-images data-title="Pipeline Jira Notifications"><img src=2021-03-11-13-41-09.png alt="Pipeline Jira Notifications"></a><figcaption class=clr-caption>Pipeline Jira Notifications</figcaption></div></div><input type=radio class="gdoc-tabs__control hidden" name="tabs-Notification Types" id="tabs-Notification Types-2">
<label for="tabs-Notification Types-2" class=gdoc-tabs__label>Webhook</label><div class="gdoc-markdown--nested gdoc-tabs__content"><div class=clr-content-image-wrap><a href=2021-03-11-13-41-47.png data-lightbox=page-images data-title="Pipeline Webhook Notifications"><img src=2021-03-11-13-41-47.png alt="Pipeline Webhook Notifications"></a><figcaption class=clr-caption>Pipeline Webhook Notifications</figcaption></div></div></div><h3 id=more>More</h3><h3 id=reference>Reference</h3><ul><li><a href=https://docs.vmware.com/en/vRealize-Automation/8.3/Using-and-Managing-CodeStream/GUID-A2BB3A55-E42D-428C-8F7F-9EBE4AECD5FD.html target=_blank><i class="fa fa-external-link-alt fa-sm" aria-hidden=true></i>Creating and using pipelines in vRealize Automation Code Stream</a></li></ul><div class=edit-meta>Last updated on 12 Apr 2021<br><a href=https://github.com/cmbu-tmm-sites/learncodestream/edit/main/content/Pipelines/_index.md class=edit-page><i class="fas fa-pen-square"></i>&nbsp;Edit on GitHub</a></div><nav class=pagination><a class="nav nav-prev" href=https://learncodestream.github.io/User-Operations/ title="User Operations"><i class="fas fa-arrow-left" aria-hidden=true></i>&nbsp;Prev - User Operations</a>
<a class="nav nav-next" href=https://learncodestream.github.io/Pipelines/Stages/ title=Stages>Next - Stages <i class="fas fa-arrow-right" aria-hidden=true></i></a></nav><footer><p class=powered>Powered by <a href=https://gohugo.io>Hugo</a>. Theme by <a href=https://themes.gohugo.io/hugo-theme-techdoc/>TechDoc</a>. Designed by <a href=https://github.com/thingsym/hugo-theme-techdoc>Thingsym</a>.</p></footer></main><div class=sidebar><nav class=slide-menu><ul><li><a href=https://learncodestream.github.io>Home</a></li><li class=has-sub-menu><a href=https://learncodestream.github.io/Getting-Started/>Getting Started<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncodestream.github.io/Getting-Started/Publishing-Preserved-Artifacts/>Publishing Preserved Artifacts</a></li><li><a href=https://learncodestream.github.io/Getting-Started/Slack-Notifications/>Slack Notifications</a></li></ul></li><li><a href=https://learncodestream.github.io/Dashboards/>Dashboards</a></li><li><a href=https://learncodestream.github.io/Executions/>Executions</a></li><li><a href=https://learncodestream.github.io/User-Operations/>User Operations</a></li><li class="parent active has-sub-menu"><a href=https://learncodestream.github.io/Pipelines/>Pipelines<span class="mark opened">-</span></a><ul class=sub-menu><li><a href=https://learncodestream.github.io/Pipelines/Stages/>Stages</a></li><li class=has-sub-menu><a href=https://learncodestream.github.io/Pipelines/Tasks/>Tasks<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncodestream.github.io/Pipelines/Tasks/bamboo/>Bamboo</a></li><li><a href=https://learncodestream.github.io/Pipelines/Tasks/CI/>CI</a></li><li><a href=https://learncodestream.github.io/Pipelines/Tasks/Condition/>Condition</a></li><li><a href=https://learncodestream.github.io/Pipelines/Tasks/Custom/>Custom</a></li><li><a href=https://learncodestream.github.io/Pipelines/Tasks/Jenkins/>Jenkins</a></li><li><a href=https://learncodestream.github.io/Pipelines/Tasks/Kubernetes/>Kubernetes</a></li><li><a href=https://learncodestream.github.io/Pipelines/Tasks/Pipeline/>Pipeline</a></li><li><a href=https://learncodestream.github.io/Pipelines/Tasks/Poll/>Poll</a></li><li><a href=https://learncodestream.github.io/Pipelines/Tasks/PowerShell/>PowerShell</a></li><li><a href=https://learncodestream.github.io/Pipelines/Tasks/REST/>REST</a></li><li><a href=https://learncodestream.github.io/Pipelines/Tasks/SSH/>SSH</a></li><li><a href=https://learncodestream.github.io/Pipelines/Tasks/User-Operation/>User Operation</a></li><li><a href=https://learncodestream.github.io/Pipelines/Tasks/Cloud-Template/>VMware Cloud Template</a></li><li><a href=https://learncodestream.github.io/Pipelines/Tasks/vRealize-Orchestrator/>vRealize Orchestrator</a></li></ul></li></ul></li><li><a href=https://learncodestream.github.io/Custom-Integrations/>Custom Integrations</a></li><li class=has-sub-menu><a href=https://learncodestream.github.io/Configure/>Configure<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncodestream.github.io/Configure/Projects/>Projects</a></li><li class=has-sub-menu><a href=https://learncodestream.github.io/Configure/Endpoints/>Endpoints<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncodestream.github.io/Configure/Endpoints/bamboo/>Bamboo</a></li><li><a href=https://learncodestream.github.io/Configure/Endpoints/Docker/>Docker</a></li><li><a href=https://learncodestream.github.io/Configure/Endpoints/Docker-Registry/>Docker Registry</a></li><li><a href=https://learncodestream.github.io/Configure/Endpoints/Email/>Email</a></li><li><a href=https://learncodestream.github.io/Configure/Endpoints/Gerrit/>Gerrit</a></li><li><a href=https://learncodestream.github.io/Configure/Endpoints/Git/>Git</a></li><li><a href=https://learncodestream.github.io/Configure/Endpoints/Jenkins/>Jenkins</a></li><li><a href=https://learncodestream.github.io/Configure/Endpoints/Jira/>Jira</a></li><li><a href=https://learncodestream.github.io/Configure/Endpoints/Kubernetes/>Kubernetes</a></li><li><a href=https://learncodestream.github.io/Configure/Endpoints/TFS/>TFS</a></li><li><a href=https://learncodestream.github.io/Configure/Endpoints/vRealize-Orchestrator/>vRealize Orchestrator</a></li></ul></li><li><a href=https://learncodestream.github.io/Configure/variables/>Variables</a></li></ul></li><li class=has-sub-menu><a href=https://learncodestream.github.io/Triggers/>Triggers<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncodestream.github.io/Triggers/Gerrit/>Gerrit</a></li><li><a href=https://learncodestream.github.io/Triggers/Git/>Git</a></li><li><a href=https://learncodestream.github.io/Triggers/Docker/>Docker</a></li></ul></li></ul></nav><div class=sidebar-footer></div></div></div><a href=# id=backtothetop-fixed class=backtothetop data-backtothetop-duration=600 data-backtothetop-easing=easeOutQuart data-backtothetop-fixed-fadein=1000 data-backtothetop-fixed-fadeout=1000 data-backtothetop-fixed-bottom=10 data-backtothetop-fixed-right=20><span class="fa-layers fa-fw"><i class="fas fa-circle"></i><i class="fas fa-arrow-circle-up"></i></span></a></div></body></html>